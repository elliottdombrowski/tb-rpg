[gd_scene load_steps=9 format=3 uid="uid://hn6ap2qdoqr8"]

[ext_resource type="PackedScene" uid="uid://bf48yc0kgwiyx" path="res://scenes/managers/overworld_actions_manager.tscn" id="1_df2o2"]
[ext_resource type="PackedScene" uid="uid://df5prsndw5v1s" path="res://scenes/managers/enemy_encounter_manager.tscn" id="1_knhv4"]
[ext_resource type="TileSet" uid="uid://dmbrt020k5q61" path="res://resources/tilesets/environments/dungeon.tres" id="3_07owp"]
[ext_resource type="PackedScene" uid="uid://ou8kxk0vt70c" path="res://scenes/game_objects/player/player.tscn" id="5_86g82"]
[ext_resource type="PackedScene" uid="uid://cpylwv4qxt560" path="res://scenes/game_objects/cameras/game_camera/game_camera.tscn" id="6_5vpxi"]
[ext_resource type="PackedScene" uid="uid://d3msi7f3wghbg" path="res://scenes/game_objects/enemies/knight/knight.tscn" id="7_wqt86"]
[ext_resource type="PackedScene" uid="uid://ch3w5hfhjg75q" path="res://scenes/effects/lighting/torch_light_centered.tscn" id="8_vw72t"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_f33m0"]
vertices = PackedVector2Array(-245, -330, -202, -330, -204, -311, -245, -312, -21, -311, -22, -473, -12, -473, -10, -311, -53, -11, -277, -12, -278, -312, -149, -311, 214, -312, 244, -312, 243, -10, 21, -11, 170, -311, 74, -311, 74, -331, 117, -331, 117, -312, 170, -331, 214, -331, -53, 83, 21, 83, -106, -311, -149, -330, -106, -330)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 9, 10, 3, 2), PackedInt32Array(8, 2, 11), PackedInt32Array(12, 13, 14, 15, 16), PackedInt32Array(17, 18, 19, 20), PackedInt32Array(16, 21, 22, 12), PackedInt32Array(20, 16, 15, 17), PackedInt32Array(8, 7, 17, 15, 23), PackedInt32Array(15, 24, 23), PackedInt32Array(4, 7, 8), PackedInt32Array(25, 4, 8), PackedInt32Array(25, 8, 11, 26), PackedInt32Array(25, 26, 27)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-288, -322, -255, -322, -255, -340, -192, -341, -193, -321, -159, -321, -159, -340, -96, -340, -96, -321, -31, -321, -32, -483, -2, -483, 0, -321, 64, -321, 64, -342, 127, -341, 127, -322, 160, -321, 161, -342, 224, -341, 224, -322, 254, -322, 253, 0, 31, -1, 31, 93, -63, 94, -63, -1, -287, -3)])
source_geometry_group_name = &"navigation_polygon_source_group"

[node name="Floor1" type="Node"]

[node name="OverworldActionsManager" parent="." instance=ExtResource("1_df2o2")]

[node name="EnemyEncounterManager" parent="." instance=ExtResource("1_knhv4")]

[node name="ShadowLayer" type="CanvasModulate" parent="."]
visible = false
color = Color(0.152941, 0.180392, 0.243137, 1)

[node name="DungeonTilemap" type="TileMap" parent="."]
tile_set = ExtResource("3_07owp")
format = 2
layer_0/name = "Floor"
layer_1/name = "Walls"
layer_1/z_index = 1
layer_1/navigation_enabled = false
layer_1/tile_data = PackedInt32Array()
layer_2/name = "Interactable"
layer_2/z_index = 2
layer_2/navigation_enabled = false
layer_2/tile_data = PackedInt32Array()
layer_3/name = "Ceiling"
layer_3/z_index = 3
layer_3/navigation_enabled = false
layer_3/tile_data = PackedInt32Array()
layer_4/name = "Void"
layer_4/z_index = 100
layer_4/navigation_enabled = false
layer_4/tile_data = PackedInt32Array()

[node name="GameCamera" parent="." instance=ExtResource("6_5vpxi")]

[node name="Knight" parent="." instance=ExtResource("7_wqt86")]
visible = false
z_index = 10
position = Vector2(-56, -200)

[node name="Player" parent="." groups=["player"] instance=ExtResource("5_86g82")]
visible = false
z_index = 10
position = Vector2(-17, 56)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_f33m0")

[node name="TorchLightCentered" parent="." instance=ExtResource("8_vw72t")]
position = Vector2(-46, -343)

[node name="TorchLightCentered2" parent="." instance=ExtResource("8_vw72t")]
position = Vector2(17, -346)
