[gd_scene load_steps=9 format=3 uid="uid://hn6ap2qdoqr8"]

[ext_resource type="PackedScene" uid="uid://bf48yc0kgwiyx" path="res://scenes/managers/overworld_actions_manager.tscn" id="1_mbwc0"]
[ext_resource type="PackedScene" uid="uid://df5prsndw5v1s" path="res://scenes/managers/enemy_encounter_manager.tscn" id="2_kmq5y"]
[ext_resource type="PackedScene" uid="uid://bwxwppn5p6u3d" path="res://scenes/managers/terrain_manager.tscn" id="3_jrvnn"]
[ext_resource type="TileSet" uid="uid://dmbrt020k5q61" path="res://resources/tilesets/environments/dungeon.tres" id="3_q8bvp"]
[ext_resource type="PackedScene" uid="uid://cpylwv4qxt560" path="res://scenes/game_objects/cameras/game_camera/game_camera.tscn" id="4_cwoaj"]
[ext_resource type="PackedScene" uid="uid://d3msi7f3wghbg" path="res://scenes/game_objects/enemies/knight/knight.tscn" id="5_2aro8"]
[ext_resource type="PackedScene" uid="uid://ou8kxk0vt70c" path="res://scenes/game_objects/player/player.tscn" id="6_dwm7p"]
[ext_resource type="PackedScene" uid="uid://ch3w5hfhjg75q" path="res://scenes/effects/lighting/torch_light_centered.tscn" id="7_1522v"]

[node name="Floor1Lobby" type="Node2D"]

[node name="OverworldActionsManager" parent="." instance=ExtResource("1_mbwc0")]

[node name="EnemyEncounterManager" parent="." instance=ExtResource("2_kmq5y")]

[node name="TerrainManager" parent="." node_paths=PackedStringArray("tile_map") instance=ExtResource("3_jrvnn")]
tile_map = NodePath("../DungeonTilemap")

[node name="DungeonTilemap" type="TileMap" parent="."]
tile_set = ExtResource("3_q8bvp")
format = 2
layer_0/name = "Floor"
layer_0/tile_data = PackedInt32Array(327680, 262144, 11, 393215, 327680, 11, 393214, 65536, 11, 262144, 327680, 11, 196608, 327680, 11, 131072, 65536, 11, 65536, 262144, 11, 327679, 262144, 11, 262143, 262144, 11, 196607, 65536, 11, 131071, 327680, 11, 327678, 327680, 11, 262142, 327680, 11, 196606, 327680, 11, 131070, 262144, 11, 0, 262144, 11, -65536, 327680, 11, -131072, 327680, 11, -196608, 196608, 11, -262144, 327680, 11, -327680, 327680, 11, 65535, 262144, 11, -1, 327680, 11, -65537, 327680, 11, -131073, 327680, 11, -196609, 65536, 11, -262145, 327680, 11, -327681, 327680, 11, 65534, 262144, 11, -2, 65536, 11, -65538, 262144, 11, -131074, 327680, 11, -196610, 262144, 11, -262146, 327680, 11, -393217, 983040, 15, -458753, 983040, 15, -524289, 983040, 15, -589825, 983040, 15, 458752, 196608, 11, 393216, 327680, 11, 524287, 196608, 11, 458751, 262144, 11, 524286, 327680, 11, 458750, 262144, 11, 327685, 262144, 11, 262149, 262144, 11, 196613, 262144, 11, 131077, 327680, 11, 65541, 327680, 11, 5, 262144, 11, -65531, 131072, 11, -131067, 327680, 11, -196603, 327680, 11, -262139, 327680, 11, -327675, 262144, 11, -393211, 262144, 11, 327684, 327680, 11, 262148, 262144, 11, 196612, 327680, 11, 131076, 262144, 11, 65540, 327680, 11, 4, 327680, 11, -65532, 262144, 11, -131068, 131072, 11, -196604, 65536, 11, -262140, 327680, 11, -327676, 196608, 11, 327683, 262144, 11, 262147, 262144, 11, 196611, 262144, 11, 131075, 327680, 11, 65539, 327680, 11, 3, 327680, 11, -65533, 327680, 11, -131069, 327680, 11, -196605, 262144, 11, -262141, 327680, 11, -327677, 196608, 11, -393213, 262144, 11, 327682, 327680, 11, 262146, 327680, 11, 196610, 327680, 11, 131074, 262144, 11, 65538, 327680, 11, 2, 65536, 11, -65534, 262144, 11, -131070, 262144, 11, -196606, 327680, 11, -262142, 327680, 11, -327678, 327680, 11, -393214, 327680, 11, 327681, 262144, 11, 262145, 262144, 11, 196609, 327680, 11, 131073, 262144, 11, 65537, 327680, 11, 1, 262144, 11, -65535, 262144, 11, -131071, 327680, 11, -196607, 327680, 11, -262143, 262144, 11, -327679, 327680, 11, -393215, 262144, 11, 393213, 262144, 11, 327677, 327680, 11, 262141, 327680, 11, 196605, 327680, 11, 131069, 262144, 11, 65533, 262144, 11, -3, 327680, 11, -65539, 262144, 11, -131075, 262144, 11, -196611, 327680, 11, -262147, 327680, 11, -327683, 196608, 11, 393212, 262144, 11, 327676, 262144, 11, 262140, 131072, 11, 196604, 262144, 11, 131068, 327680, 11, 65532, 262144, 11, -4, 327680, 11, -65540, 262144, 11, -131076, 327680, 11, -196612, 327680, 11, -262148, 262144, 11, -327684, 262144, 11, 393211, 327680, 11, 327675, 262144, 11, 262139, 262144, 11, 196603, 262144, 11, 131067, 327680, 11, 65531, 262144, 11, -5, 262144, 11, -65541, 327680, 11, -131077, 327680, 11, -196613, 327680, 11, -262149, 196608, 11, -327685, 327680, 11, 393210, 131072, 11, 327674, 327680, 11, 262138, 262144, 11, 196602, 262144, 11, 131066, 327680, 11, 65530, 262144, 11, -6, 262144, 11, -65542, 262144, 11, -131078, 327680, 11, -196614, 262144, 11, -262150, 196608, 11, 393209, 65536, 11, 327673, 262144, 11, 262137, 327680, 11, 196601, 327680, 11, 131065, 262144, 11, 65529, 262144, 11, -7, 327680, 11, -65543, 327680, 11, -131079, 327680, 11, -196615, 262144, 11, -262151, 327680, 11, -327687, 262144, 11, 327688, 262144, 11, 262152, 327680, 11, 196616, 262144, 11, 131080, 196608, 11, 65544, 327680, 11, 8, 262144, 11, -65528, 262144, 11, -131064, 65536, 11, -196600, 327680, 11, -262136, 262144, 11, -327672, 262144, 11, 327687, 131072, 11, 262151, 327680, 11, 196615, 327680, 11, 131079, 327680, 11, 65543, 262144, 11, 7, 262144, 11, -65529, 327680, 11, -131065, 327680, 11, -196601, 262144, 11, -262137, 131072, 11, -327673, 65536, 11, -393209, 327680, 11, 327686, 262144, 11, 262150, 65536, 11, 196614, 262144, 11, 131078, 327680, 11, 65542, 262144, 11, 6, 262144, 11, -65530, 262144, 11, -131066, 196608, 11, -196602, 262144, 11, -262138, 327680, 11, -327674, 262144, 11, -393210, 327680, 11, 393208, 262144, 11, 327672, 262144, 11, 262136, 262144, 11, 196600, 327680, 11, 131064, 327680, 11, 65528, 262144, 11, -8, 262144, 11, -65544, 327680, 11, -131080, 327680, 11, -196616, 262144, 11, -262152, 262144, 11, -327688, 327680, 11, 393207, 327680, 11, 327671, 196608, 11, 262135, 327680, 11, 196599, 262144, 11, 131063, 262144, 11, 65527, 262144, 11, -9, 327680, 11, -65545, 262144, 11, -131081, 131072, 11, -196617, 262144, 11, -262153, 327680, 11, -327689, 327680, 11, 393206, 262144, 11, 327670, 262144, 11, 262134, 327680, 11, 196598, 262144, 11, 131062, 327680, 11, 65526, 196608, 11, -10, 262144, 11, -65546, 327680, 11, -131082, 262144, 11, -196618, 327680, 11, -262154, 262144, 11, -655361, 262144, 11)
layer_1/name = "Walls"
layer_1/navigation_enabled = false
layer_1/tile_data = PackedInt32Array(-393208, 262144, 7, -393212, 262144, 7, -327690, 262144, 7, -327686, 262144, 7, -327682, 262144, 7, -393216, 262144, 7, -393225, 131072, 4, -393224, 131072, 4, -393223, 131072, 4, -393221, 131072, 4, -393220, 131072, 4, -393219, 131072, 4, -458751, 131072, 4, -458750, 131072, 4, -458749, 131072, 4, -458747, 131072, 4, -458746, 131072, 4, -458745, 131072, 4, -458761, 131072, 805306372, -458760, 131072, 805306372, -458759, 131072, 805306372, -458757, 131072, 805306372, -458756, 131072, 805306372, -458755, 131072, 805306372, -524287, 131072, 805306372, -524286, 131072, 805306372, -524285, 131072, 805306372, -524283, 131072, 805306372, -524282, 131072, 805306372, -524281, 131072, 805306372, -458748, 262144, 805306372, -458752, 262144, 805306372, -393218, 262144, 805306372, -393222, 262144, 805306372, -393226, 262144, 805306372, -458762, 327680, 0, -458758, 327680, 0, -458754, 327680, 0, -524288, 327680, 0, -524284, 327680, 0, -524280, 327680, 0, -458744, 262144, 805306372, -524298, 131072, 3, -524297, 131072, 3, -524296, 131072, 3, -524295, 131072, 3, -524294, 131072, 3, -524293, 131072, 3, -524292, 131072, 3, -524291, 131072, 3, -589823, 131072, 3, -589822, 131072, 3, -589821, 131072, 3, -589820, 131072, 3, -589819, 131072, 3, -589818, 131072, 3, -589817, 131072, 3, -589816, 131072, 3, -524290, 196608, 3, -589824, 65536, 3, -720896, 262144, 1, -655360, 262144, 1, -655362, 0, 1, -589826, 0, 1, -720897, 131072, 3, -786432, 65536, 2, -720898, 196608, 2, -524299, 196608, 2, -589815, 65536, 2, -524279, 262144, 1, -458743, 262144, 1, -393207, 262144, 1, -327671, 262144, 1, -262135, 262144, 1, -196599, 262144, 1, -131063, 262144, 1, -65527, 262144, 1, 9, 262144, 1, 65545, 262144, 1, 131081, 262144, 1, 196617, 262144, 1, 327689, 262144, 1, 262153, 262144, 1, -458763, 0, 1, -393227, 0, 1, -327691, 0, 1, -262155, 0, 1, -196619, 0, 1, -131083, 0, 1, -65547, 0, 1, -11, 0, 1, 65525, 0, 1, 131061, 0, 1, 196597, 0, 1, 262133, 0, 1, 327669, 0, 1, 393205, 0, 1, 458742, 131072, 0, 458743, 131072, 0, 458744, 131072, 0, 458745, 131072, 0, 458746, 131072, 0, 458747, 131072, 0, 458748, 131072, 0, 393218, 131072, 0, 393219, 131072, 0, 393220, 131072, 0, 393221, 131072, 0, 393222, 131072, 0, 393223, 131072, 0, 393224, 131072, 0, 393217, 65536, 0, 458749, 196608, 0, 524285, 0, 1, 458753, 262144, 1, 524289, 65536, 1, 589821, 196608, 1, 589822, 131072, 0, 589823, 131072, 0, 524288, 131072, 0, 393225, 65536, 1, 458741, 196608, 1, -196616, 327680, 0, -131080, 262144, 805306372, -65544, 262144, 7, -196612, 327680, 0, -131076, 262144, 805306372, -65540, 262144, 7, -262142, 327680, 0, -196606, 262144, 805306372, -131070, 262144, 7, -262138, 327680, 0, -196602, 262144, 805306372, -131066, 262144, 7, 65532, 327680, 0, 131068, 262144, 805306372, 196604, 262144, 7, 131064, 262144, 805306372, 196600, 262144, 7, 65528, 327680, 0, 2, 327680, 0, 65538, 262144, 805306372, 131074, 262144, 7, 6, 327680, 0, 65542, 262144, 805306375, 131078, 262144, 7)
layer_2/name = "Decoration"
layer_2/navigation_enabled = false
layer_2/tile_data = PackedInt32Array(-393225, 458752, 13, -458761, 458752, 13, -393223, 458752, 13, -458759, 458752, 13, -458757, 458752, 13, -393219, 458752, 13, -458755, 458752, 13, -458751, 458752, 13, -524287, 458752, 13, -524285, 458752, 13, -458749, 458752, 13, -524283, 458752, 13, -458747, 458752, 13, -524281, 458752, 13, -458745, 458752, 13, -589823, 458752, 12, -589821, 458752, 12, -589819, 458752, 12, -589817, 458752, 12, -524293, 458752, 12, -524291, 458752, 12, -524297, 458752, 12, -524295, 458752, 12, -327689, 458752, 805306380, -327687, 458752, 805306380, -393215, 458752, 805306380, -393213, 458752, 805306380, -393211, 458752, 805306380, -393209, 458752, 805306380, -393224, 458752, 10, -327688, 458752, 11, -458750, 458752, 10, -393214, 458752, 11, -458746, 458752, 10, -393210, 458752, 11, -327683, 458752, 805306380, -393221, 458752, 13, -327685, 458752, 805306380, -393220, 458752, 10, -327684, 458752, 11, 393208, 458752, 10, 458744, 458752, 11, 393212, 458752, 10, 458748, 458752, 11, 327682, 458752, 10, 393218, 458752, 11, 327686, 458752, 10, 393222, 458752, 11, 393207, 458752, 12, 393209, 458752, 12, 393211, 458752, 12, 393213, 458752, 12, 327681, 458752, 12, 327683, 458752, 12, 327685, 458752, 12, 327687, 458752, 12, -6, 458752, 10, 65530, 458752, 11, -65532, 458752, 10, 4, 458752, 11)
layer_3/name = "Interactable"
layer_3/navigation_enabled = false
layer_3/tile_data = PackedInt32Array(-720897, 589824, 12, -655361, 589824, 13)
layer_4/name = "SecondFloor"
layer_4/z_index = 2
layer_4/tile_data = PackedInt32Array()
layer_5/name = "SecondFloorWalls"
layer_5/z_index = 2
layer_5/navigation_enabled = false
layer_5/tile_data = PackedInt32Array()
layer_6/name = "Ceiling"
layer_6/navigation_enabled = false
layer_6/tile_data = PackedInt32Array()
layer_7/name = "Void"
layer_7/z_index = 100
layer_7/navigation_enabled = false
layer_7/tile_data = PackedInt32Array()

[node name="GameCamera" parent="." instance=ExtResource("4_cwoaj")]

[node name="Knight" parent="." instance=ExtResource("5_2aro8")]
visible = false
z_index = 10
position = Vector2(-10, -77)

[node name="Player" parent="." node_paths=PackedStringArray("terrain_manager") groups=["player"] instance=ExtResource("6_dwm7p")]
position = Vector2(-17, -115)
terrain_manager = NodePath("../TerrainManager")

[node name="ShadowLayer" type="CanvasModulate" parent="."]
visible = false
color = Color(0.177583, 0.208118, 0.277889, 1)

[node name="TorchLightCentered" parent="." instance=ExtResource("7_1522v")]
position = Vector2(-240, -176)
texture_scale = 1.7

[node name="TorchLightCentered5" parent="." instance=ExtResource("7_1522v")]
position = Vector2(-240, 191)
texture_scale = 1.7

[node name="TorchLightCentered6" parent="." instance=ExtResource("7_1522v")]
position = Vector2(-111, 191)
texture_scale = 1.7

[node name="TorchLightCentered7" parent="." instance=ExtResource("7_1522v")]
position = Vector2(81, 191)
texture_scale = 1.7

[node name="TorchLightCentered8" parent="." instance=ExtResource("7_1522v")]
position = Vector2(209, 191)
texture_scale = 1.7

[node name="TorchLightCentered2" parent="." instance=ExtResource("7_1522v")]
position = Vector2(-112, -174)
texture_scale = 1.7

[node name="TorchLightCentered9" parent="." instance=ExtResource("7_1522v")]
position = Vector2(-176, 14)
texture_scale = 1.7

[node name="TorchLightCentered10" parent="." instance=ExtResource("7_1522v")]
position = Vector2(145, 16)
texture_scale = 1.7

[node name="TorchLightCentered3" parent="." instance=ExtResource("7_1522v")]
position = Vector2(80, -176)
texture_scale = 1.7

[node name="TorchLightCentered4" parent="." instance=ExtResource("7_1522v")]
position = Vector2(208, -175)
texture_scale = 1.7
